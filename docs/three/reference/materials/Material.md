# Material

マテリアルの抽象的な基底クラス．

マテリアルは，オブジェクトの外観を記述する．レンダラに依存しない方法で定義されているため，別のレンダラを使用することになってもマテリアルを書き直す必要はない．

以下のプロパティとメソッドは，他のすべてのマテリアルタイプに継承される（ただし，デフォルトは異なる場合がある）．

## コンストラクタ

```js
Material();
```

これにより，汎用的な素材ができあがる．

## プロパティ

| プロパティ名          | 型       | 説明                                                                                                                                                                                                                                                                                                                                                                                                 |
| :-------------------- | :------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `alphaTest`           | Float    | アルファテストを実行するときに使用するアルファ値を設定する．不透明度がこの値より低い場合，マテリアルはレンダリングされない．デフォルトは 0．                                                                                                                                                                                                                                                         |
| `alphaToCoverage`     | Float    | カバレッジにアルファを有効にする．MSAA が有効なコンテキストでのみ使用可能（つまり，レンダラがアンチエイリアスパラメータを `true` に設定して作成された場合）。デフォルトは `false`．                                                                                                                                                                                                                  |
| `blendDst`            | Integer  | ブレンド先．デフォルトは OneMinusSrcAlphaFactor．使用できるすべての値については，Destination factors 定数を参照．これが効果を発揮するためには，マテリアルのブレンディングを CustomBlending に設定する必要がある．                                                                                                                                                                                    |
| `blendDstAlpha`       | Integer  | `.blendDst`の透明度．null の場合，`.blendDst`の値を使用する．デフォルトは`NULL`.                                                                                                                                                                                                                                                                                                                     |
| `blendEquation`       | Integer  | ブレンディングを適用するときに使用するブレンディング方程式．デフォルトは AddEquation．使用可能なすべての値については，ブレンディング方程式の定数を参照せよ．これが効果を発揮するには，マテリアルのブレンディングが CustomBlending に設定されている必要がある．                                                                                                                                       |
| `blendEquationAlpha`  | Integer  | .blendEquation の透明度。null の場合、.blendEquation の値を使用する．デフォルトは`null`．                                                                                                                                                                                                                                                                                                            |
| `blending`            | Blending | このマテリアルを持つオブジェクトを表示する際に使用するブレンディング．カスタム blendSrc、blendDst、blendEquation を使用する場合は，CustomBlending に設定する必要がある．設定可能な値については，ブレンディングモード定数を参照せよ．デフォルトは NormalBlending．                                                                                                                                    |
| `blendSrc`            | Integer  | ブレンディングソース．デフォルトは SrcAlphaFactor ．使用可能なすべての値については、ソースファクターの定数を参照せよ．これが効果を発揮するためにはマテリアルのブレンディングが CustomBlending に設定されている必要がある．                                                                                                                                                                           |
| `blendSrcAlpha`       | Integer  | .blendSrc の透明度．null の場合，.blendSrc の値を使用する．デフォルトは`null`．                                                                                                                                                                                                                                                                                                                      |
| `clipIntersection`    | Boolean  | クリッピング平面の動作を変更し，それらの和ではなく，交差のみがクリッピングされるようにする．デフォルトは `false`．                                                                                                                                                                                                                                                                                   |
| `clippingPlanes`      | Array    | ワールド空間の THREE.Plane オブジェクトとして指定されるユーザー定義のクリッピングプレーン．これらの平面は，このマテリアルが接続されているオブジェクトに適用される．平面との符号付き距離が負の空間上の点はクリッピングされる（レンダリングはされない）．これには WebGLRenderer.localClippingEnabled が `true` であることが必要．WebGL / clipping /intersection の例を参照せよ．デフォルトは `null` ． |
| `clipShadows`         | Boolean  | このマテリアルで指定されたクリッピングプレーンに従ってシャドウをクリップするかどうかを定義する．デフォルトは`false`．                                                                                                                                                                                                                                                                                |
| `colorWrite`          | Boolean  | マテリアルの色をレンダリングするかどうか．これは，Mesh の renderOrder プロパティと組み合わせて，他のオブジェクトを隠蔽する不可視オブジェクトを作成するために使用することができる．デフォルトは `true`．                                                                                                                                                                                              |
| `defines`             | Object   | シェーダに注入されるカスタム定義．これらはオブジェクトリテラルの形で渡され，キーと値のペアがある．`{MY_CUSTOM_DEFINE: '' , PI2: Math.PI * 2 }`. このペアは，頂点シェーダーとフラグメントシェーダーの両方で定義される．デフォルトは未定義．                                                                                                                                                           |
| `depthFunc`           | Integer  | どの深度関数を使用するか．デフォルトは LessEqualDepth．すべての可能な値については，深度モード定数を参照せよ．                                                                                                                                                                                                                                                                                        |
| `depthTest`           | Boolean  | このマテリアルをレンダリングするときに，深度テストを有効にするかどうか．デフォルトは`true`．                                                                                                                                                                                                                                                                                                         |
| `depthWrite`          | Boolean  | このマテリアルをレンダリングすると，深度バッファに何らかの影響を与えるかどうかを指定する．デフォルトは`true`．2D オーバーレイを描画するとき，z-index アーティファクトを作成せずにいくつかのものを一緒に重ねるために，深度書き込みを無効にすると便利なことがある．                                                                                                                                    |
| `isMaterial`          | Boolean  | 与えられたオブジェクトが材料タイプであるかどうかをチェックするための読み取り専用フラグ．                                                                                                                                                                                                                                                                                                             |
| `stencilWrite`        | Boolean  | ステンシルバッファに対してステンシル操作を行うかどうかを指定する．ステンシルバッファに対して書き込みや比較を行うには，この値を`true`にする必要がある．デフォルトは`false`．                                                                                                                                                                                                                          |
| `stencilWriteMask`    | Integer  | ステンシルバッファに書き込む際に使用するビットマスク．デフォルトは`0xFF`．                                                                                                                                                                                                                                                                                                                           |
| `stencilFunc`         | Integer  | 使用するステンシル比較関数．デフォルトは AlwaysStencilFunc．使用できるすべての値については，ステンシル関数定数を参照．                                                                                                                                                                                                                                                                               |
| `stencilRef`          | Integer  | ステンシル比較やステンシル操作を行う際に使用する値．デフォルトは 0．                                                                                                                                                                                                                                                                                                                                 |
| `stencilFuncMask`     | Integer  | ステンシルバッファと比較するときに使用するビットマスク．デフォルトは `0xFF`                                                                                                                                                                                                                                                                                                                          |
| `stencilFail`         | Integer  | 比較関数が `false` を返したときに実行するステンシル操作を指定する．デフォルトは KeepStencilOp． すべての可能な値については，ステンシル操作の定数を参照せよ．                                                                                                                                                                                                                                         |
| `stencilZFail`        | Integer  | 比較関数が`true`を返したが深さテストは失敗した場合に，どのステンシル操作を実行するかを指定する．デフォルトは KeepStencilOp． すべての可能な値については，ステンシル操作の定数を参照しせよ．                                                                                                                                                                                                          |
| `stencilZPass`        | Integer  | 比較関数が `true` を返し，深さテストがパスしたときに実行するステンシル操作を指定する．デフォルトは KeepStencilOp ．すべての可能な値については，ステンシル操作の定数を参照せよ．                                                                                                                                                                                                                      |
| `id`                  | Integer  | このマテリアルインスタンスの一意な番号．                                                                                                                                                                                                                                                                                                                                                             |
| `name`                | String   | オブジェクトのオプションの名前（一意である必要はない）．デフォルトは空文字列．                                                                                                                                                                                                                                                                                                                       |
| `needsUpdate`         | Boolean  | 材料の再コンパイルが必要であることを指定する．                                                                                                                                                                                                                                                                                                                                                       |
| `opacity`             | Float    | 0.0 - 1.0 の範囲の Float で，マテリアルの透明度を示す．0.0 は完全な透明，1.0 は完全な不透明になる．マテリアルの `transparent` プロパティが true に設定されていない場合、マテリアルは完全に不透明なままであり，この値はその色にのみ影響する．デフォルトは 1.0．                                                                                                                                       |
| `polygonOffset`       | Boolean  | ポリゴンオフセットを使用するかどうか．デフォルトは`false`．WebGL の GL_POLYGON_OFFSET_FILL 機能に相当．                                                                                                                                                                                                                                                                                              |
| `polygonOffsetFactor` | Integer  | ポリゴンオフセット係数を設定する．デフォルトは 0．                                                                                                                                                                                                                                                                                                                                                   |
| `polygonOffsetUnits`  | Integer  | ポリゴンオフセットの単位を設定する．デフォルトは 0．                                                                                                                                                                                                                                                                                                                                                 |
| `percision`           | String   | このマテリアルのレンダラーのデフォルトの精度をオーバーライドする．highp"，"mediump "または "lowp "を指定できる．デフォルトは`null`．                                                                                                                                                                                                                                                                 |
| `premultipiledAlpha`  | Boolean  | アルファ (透明度) 値を事前に乗算するかどうかを指定する．違いの例として，WebGL / Materials / Physical / Transmission を参照せよ．デフォルトは `false` ．                                                                                                                                                                                                                                              |
| `dithering`           | Boolean  | バンディングの外観を除去するために，色にディザリングを適用するかどうか．デフォルトは`false`．                                                                                                                                                                                                                                                                                                        |
| `shadowSide`          | Integer  | 面のどちら側に影を落とすかを定義する．設定すると，THREE.FrontSide，THREE.BackSide，または THREE.DoubleSide を使用できる．デフォルトは `null` ．`null`の場合の影を落とす面は[こちら](https://threejs.org/docs/index.html#api/en/materials/Material.shadowSide)を参照．                                                                                                                                |
| `side`                | Integer  | 面のどちら側をレンダリングするか（前面、背面、または両方）を定義する．デフォルトは THREE.FrontSide．その他のオプションは，THREE.BackSide と THREE.DoubleSide ．                                                                                                                                                                                                                                      |
| `toneMapped`          | Boolean  | このマテリアルが，レンダラーの toneMapping 設定に従ってトーンマッピングされるかどうかを定義する．デフォルトは`true`．                                                                                                                                                                                                                                                                                |
| `transparent`         | Boolean  | このマテリアルが透明であるかどうかを定義する．これはレンダリングに影響を及ぼし，透明なオブジェクトは特別な処理を必要とし，非透明なオブジェクトの後にレンダリングされる．`true` に設定すると，マテリアルがどの程度透明であるかは，opacity プロパティを設定することによって制御される．デフォルトは`false`．                                                                                           |
| `type`                | String   | 値は文字列 'Material'．これは変更されるべきではなく，シーン内のこのタイプのオブジェクトをすべて見つける目的で使用することができる．                                                                                                                                                                                                                                                                  |
| `uuid`                | String   | このマテリアルインスタンスの UUID．自動的に割り当てられるので，編集する必要はない．                                                                                                                                                                                                                                                                                                                  |
| `version`             | Integer  | 0 から始まり，`.needsUpdate`が`true`に設定された回数をカウントする．                                                                                                                                                                                                                                                                                                                                 |
| `vertexColors`        | Boolean  | 頂点カラーリングを使用するかどうかを定義する．デフォルトは`false`．                                                                                                                                                                                                                                                                                                                                  |
| `visible`             | Boolean  | このマテリアルが表示されるかどうかを定義します．デフォルトは `true`．                                                                                                                                                                                                                                                                                                                                |
| `userData`            | Object   | マテリアルに関するカスタムデータを格納するために使用できるオブジェクト．クローン化されないため，関数への参照を保持するべきではない．                                                                                                                                                                                                                                                                 |

## メソッド

| メソッド名              | 引数                                          | 説明                                                                                                                                                                                                                                                                         |
| :---------------------- | :-------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `clone`                 | なし                                          | このマテリアルと同じパラメータを持つ新しいマテリアルを返す．                                                                                                                                                                                                                 |
| `copy`                  | `material`:Material                           | 引数のマテリアルからこのマテリアルにパラメータをコピーします．                                                                                                                                                                                                               |
| `dispose`               | なし                                          | マテリアルを破棄する．マテリアルのテクスチャは破棄されない．これらは Texture で処分する必要がありる．                                                                                                                                                                        |
| `onBeforeCompile`       | `shader` : Shader，`renderer` : WebGLRenderer | シェーダプログラムがコンパイルされる直前に実行されるオプションのコールバック．この関数は，シェーダソースコードをパラメータとして呼び出される．ビルトインマテリアルの修正に便利．プロパティとは異なり，コールバックは .clone(), .copy(), .toJSON() ではサポートされていない． |
| `customProgramCacheKey` | なし                                          | onBeforeCompile が使用されている場合，このコールバックは onBeforeCompile で使用された設定の値を識別するために使用することができるため，three.js は必要に応じてキャッシュされたシェーダーを再利用したり，このマテリアル用にシェーダーを再コンパイルしたりすることができる．   |
| `setValues`             | `values` : Object                             | `values` -- パラメータを含むコンテナ。値に基づいてプロパティを設定する。                                                                                                                                                                                                     |
| `toJSON`                | `meta` : Object                               | `meta` -- 素材のテクスチャや画像などのメタデータを含むオブジェクト. 素材を three.js JSON Object/Scene 形式に変換する．                                                                                                                                                       |
